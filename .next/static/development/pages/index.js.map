{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///./libs/useInput.js","webpack:///./libs/useTitle.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js","webpack:///delegated ./node_modules/react/index.js from dll-reference dll_ef0ff7c60362f24a921f","webpack:///./pages/index.js","webpack:///external \"dll_ef0ff7c60362f24a921f\""],"sourcesContent":["import { useRef, useState, useEffect } from 'react'\n\n// class ValueObj {\n//   constructor(value, setValue, validation, setValidation){\n//     this.value = value\n//     this.setValue = setValue\n//     this.validation = validation\n//     this.setValidation = setValue\n//   }\n//   get(){\n//     return this.value\n//   }\n//   set(newValue){\n//     return this.setValue(newValue)\n//   }\n//   onChange(cb){\n//     if(!cb) return\n//     const result = cb(this.value)\n//     // result ? this.setValidation(true) : this.setValidation(false)\n//   }\n// }\n\nfunction useInput(ref,initialValue = '') {\n  const [value, setValue] = useState(initialValue)\n  const [validation, setValidation] = useState(false)\n\n  // updateValue\n  useEffect(()=>{\n    ref.current.oninput = ev => {\n      setValue(ev.target.value)\n    }\n  }, [])\n\n  // bindValue\n  useEffect(()=>{\n    ref.current.value = value\n  })\n\n  \n  // on value change event\n  // const valueObj = new ValueObj(value, setValue, validation, setValidation)\n  const valueObj = {\n    get: ()=>value,\n    set: (newValue)=>setValue(newValue),\n    validation: ()=>validation,\n    onChange: (cb)=>{\n      useEffect(()=>{\n        cb && cb(value) ? setValidation(true) : setValidation(false)\n      }, [value])\n    },\n  }\n\n  return valueObj\n\n}\n\nexport default useInput","import { useEffect } from \"react\";\n\nfunction useTitle(title){\n  useEffect(()=>{\n    document.title = title\n  }, [])\n}\n\nexport default useTitle","\n    (window.__NEXT_P=window.__NEXT_P||[]).push([\"/\", function() {\n      var mod = require(\"/Users/yokiijay/Desktop/next-2-custom-react-hook/pages/index.js\")\n      if(module.hot) {\n        module.hot.accept(\"/Users/yokiijay/Desktop/next-2-custom-react-hook/pages/index.js\", function() {\n          if(!next.router.components[\"/\"]) return\n          var updatedPage = require(\"/Users/yokiijay/Desktop/next-2-custom-react-hook/pages/index.js\")\n          next.router.update(\"/\", updatedPage)\n        })\n      }\n      return mod\n    }]);\n  ","module.exports = (__webpack_require__(/*! dll-reference dll_ef0ff7c60362f24a921f */ \"dll-reference dll_ef0ff7c60362f24a921f\"))(\"./node_modules/react/index.js\");","import { useState, useRef, useEffect } from 'react'\nimport useInput from '../libs/useInput'\nimport useTitle from '../libs/useTitle'\n\nconst Index = () => {\n  useTitle('Use Input')\n\n  const usernameRef = useRef(null)\n  const hobbyRef = useRef(null)\n\n  const username = useInput(usernameRef)\n  const hobby = useInput(hobbyRef)\n\n  username.onChange(value=>{\n    return /^\\w{6,12}$/.test(value)\n  })\n\n  hobby.onChange(value=>{\n    return /^([a-zA-z]+\\,?\\s?)+$/.test(value)\n  })\n\n  const handleSubmit = ev=>{\n    ev.preventDefault()\n    username.set('')\n    hobby.set('')\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        username:\n        <input type='text' placeholder='6-12位英文或数字' ref={usernameRef} /> {username.validation() ? '✅' : '❌'} <br />\n        hobby:\n        <input type='text' placeholder='英文 并用逗号隔开' ref={hobbyRef} /> {hobby.validation() ? '✅' : '❌'}<br />\n        <button>Reset</button>\n      </form>\n      <h5>用户名：{username.get()}</h5>\n      <h5>爱好：{hobby.get()}</h5>\n    </div>\n  )\n}\n\nexport default Index\n","module.exports = dll_ef0ff7c60362f24a921f;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AAEA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC1CA;;;;A","sourceRoot":""}